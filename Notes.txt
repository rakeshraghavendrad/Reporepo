import re
import pandas as pd

# Define your input path
path = "C:\\Users\\kk052484\\lc..."
input_file = path + "behave_tests.log"

# Keyword â†’ List of (field, specific pattern)
kw = {
    "Prompt on compelling photographic or email evidence returned": [
        ("evidence", r'evidence="([^"]+)"'),
        ("input_", r'input_="([^"]+)"'),
        ("is_compelling", r'is_compelling="([^"]+)"')
    ]
}

data = []

# Read file
with open(input_file, "r", encoding="utf-8") as infile:
    lines = infile.readlines()

# Loop through keywords and field-patterns
for keyword, field_patterns in kw.items():
    match_found = False
    row = {"check": keyword}

    for line in lines:
        if keyword in line:
            for field, pattern in field_patterns:
                match = re.search(pattern, line)
                row[field] = match.group(1).strip() if match else "Not found"
            match_found = True
            break

    if not match_found:
        for field, _ in field_patterns:
            row[field] = "Not available in the log, hence no evidence"

    data.append(row)

# Create DataFrame
df = pd.DataFrame(data)
print(df)
