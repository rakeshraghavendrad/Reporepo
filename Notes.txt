import pandas as pd
import re

# Example: Load your CSV file
df = pd.read_csv("30_case_comparison_release_candidate_v0_2_0_results.csv")

# Function to clean text
def clean_text(text):
    if pd.isna(text):
        return ""
    # Remove \n and \t
    text = text.replace("\n", " ").replace("\t", " ")
    # Remove square brackets and anything inside []
    text = re.sub(r'\[.*?\]', '', text)
    # Remove double and single quotes
    text = text.replace('"', '').replace("'", "")
    # Remove multiple spaces
    text = re.sub(r'\s+', ' ', text)
    # Strip leading and trailing spaces
    return text.strip()

# Apply to the 'NewSummary' column
df['Cleaned_NewSummary'] = df['NewSummary'].apply(clean_text)

# Save the cleaned file
df.to_csv("cleaned_results.csv", index=False)

print(df[['NewSummary', 'Cleaned_NewSummary']].head())
